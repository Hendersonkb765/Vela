import{r as l,W as _,j as s}from"./app-CtPP1DNG.js";import{I as c,T as i,a as m}from"./TextInput-BK_jkj-f.js";import{P as C}from"./PrimaryButton-CgHh9L6v.js";import{M as p,a as d}from"./index-D5XRLH4z.js";import{X as k}from"./transition-CzWNMDPU.js";import"./iconBase-qlBafJIs.js";function $({className:w=""}){const u=l.useRef(),x=l.useRef(),{data:t,setData:r,errors:o,put:f,reset:n,processing:j,recentlySuccessful:g}=_({current_password:"",password:"",password_confirmation:""}),v=e=>{e.preventDefault(),f(route("password.update"),{preserveScroll:!0,onSuccess:()=>n(),onError:h=>{h.password&&(n("password","password_confirmation"),u.current.focus()),h.current_password&&(n("current_password"),x.current.focus())}})},[a,N]=l.useState({minLength:!1,uppercase:!1,specialChar:!1}),y=e=>{N({minLength:e.length>=8,uppercase:/[A-Z]/.test(e),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e)})};return s.jsxs("section",{className:w,children:[s.jsxs("header",{className:"px-4",children:[s.jsx("h2",{className:"sm:px-0 text-lg font-medium text-gray-900 dark:text-gray-100",children:"Atualizar senha"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Para manter sua conta segura, use uma senha longa e aleatória"})]}),s.jsxs("form",{onSubmit:v,className:"sm:px-0 mt-6 space-y-6",children:[s.jsxs("div",{className:"px-4",children:[s.jsx(c,{htmlFor:"current_password",value:"Senha atual"}),s.jsx(i,{id:"current_password",ref:x,value:t.current_password,onChange:e=>r("current_password",e.target.value),type:"password",className:"mt-1 block w-full h-12 sm:h-auto ",autoComplete:"current-password"}),s.jsx(m,{message:o.current_password,className:"mt-2"})]}),s.jsxs("div",{className:"px-4",children:[s.jsx(c,{htmlFor:"password",value:"Nova senha"}),s.jsx(i,{id:"password",ref:u,value:t.password,onChange:e=>{r("password",e.target.value),y(e.target.value)},type:"password",className:"mt-1 block w-full h-12 sm:h-auto",autoComplete:"new-password"}),s.jsxs("ul",{className:"mt-2 text-sm text-neutralcolors-400 dark:text-neutralcolors-200",children:[s.jsxs("li",{className:`flex items-center gap-1 ${a.minLength?"text-green-500":""}`,children:[a.minLength?s.jsx(p,{}):s.jsx(d,{})," Mínimo de 8 caracteres"]}),s.jsxs("li",{className:`flex items-center gap-1 ${a.uppercase?"text-green-500":""}`,children:[a.uppercase?s.jsx(p,{}):s.jsx(d,{})," Pelo menos 1 letra maiúscula"]}),s.jsxs("li",{className:`flex items-center gap-1 ${a.specialChar?"text-green-500":""}`,children:[a.specialChar?s.jsx(p,{}):s.jsx(d,{})," Pelo menos 1 caractere especial (@, #, $, etc.)"]})]}),s.jsx(m,{message:o.password,className:"mt-2"})]}),s.jsxs("div",{className:"px-4",children:[s.jsx(c,{htmlFor:"password_confirmation",value:"Confirme a nova senha"}),s.jsx(i,{id:"password_confirmation",value:t.password_confirmation,onChange:e=>r("password_confirmation",e.target.value),type:"password",className:"mt-1 block w-full h-12 sm:h-auto",autoComplete:"new-password"}),s.jsx(m,{message:o.password_confirmation,className:"mt-2"})]}),s.jsxs("div",{className:"flex items-center gap-4 px-4",children:[s.jsx(C,{disabled:j,className:"justify-center h-12 w-full sm:w-56 text-lg sm:!text-base",type:"submit",children:"Salvar"}),s.jsx(k,{show:g,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}export{$ as default};
