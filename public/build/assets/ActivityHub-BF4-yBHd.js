import{q as g,r as c,j as t,Y as j}from"./app-CtPP1DNG.js";import{V as b}from"./VelaSocialLayout-D98UanQn.js";import v from"./ActivityUpload-VKYc0-mN.js";import m from"./ActivityCard-B2erVO8Z.js";import S from"./Filter-YbWm_Uz-.js";import"./NavBar-BRnHUvCp.js";import"./ApplicationLogo-jiC664LK.js";import"./Dropdown-B8gpms0Z.js";import"./transition-CzWNMDPU.js";import"./DarkModeToggleIcon-Dcrx1BIv.js";import"./index-DZYEFDQs.js";import"./iconBase-qlBafJIs.js";import"./SideMenu-D3_MuqCz.js";import"./index-Bx-jewI_.js";import"./ActivityUploadModal-D0KPVTuC.js";import"./SecondaryIconButton-Boak0Ywu.js";import"./ActivityForm-B2SRlQBV.js";import"./PrimaryButton-CgHh9L6v.js";import"./DateInput-CaQdbuvS.js";import"./InputLabel-DpcK_Rcy.js";import"./TextInput-BO1oMSBD.js";import"./SecondaryButton-CJd_1Wwq.js";import"./PrimaryIconButton-E5beE6gg.js";import"./index-D5XRLH4z.js";import"./FilterForm-1Y-hDv8a.js";import"./SearchInput-D5yJ8gM0.js";import"./FilterModal-DvmPmW60.js";function _({auth:A,activities:p,isConnectedToGoogleDrive:N}){const{props:d}=g(),{status:x,message:k}=d,[o,f]=c.useState({}),[s,h]=c.useState(!1),u=async(e="",a,l)=>{const i={startDate:"1990-01-01",endDate:new Date().toISOString().split("T")[0]};a!=""&&(i.startDate=a),l!=""&&(i.endDate=l),console.log(document.querySelector('meta[name="csrf-token"]').getAttribute("content"));try{const r=await fetch(`/atividades/filtro=${e}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(i)});if(!r.ok){const y=await r.text();throw console.error("Erro na requisição:",r.status,y),new Error("Erro na requisição: "+r.status)}const n=await r.json();n.length===0?h(!0):f(n)}catch(r){console.error("Erro ao buscar atividades:",r)}};return t.jsxs(b,{header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Minhas Atividades"}),children:[x?DashboardMessage():null,t.jsx(j,{title:"Minhas tarefas"}),t.jsxs("section",{className:"py-16 sm:py-8 flex flex-col min-h-fit h-screen overflow-x-hidden ",children:[t.jsx("div",{className:"relative flex flex-col justify-center items-center min-h-64 bg-primary dark:bg-primary-200 fullhd:h-3/4",children:t.jsx(v,{})}),t.jsxs("section",{className:"w-full px-4 mx-4 grid grid-cols-1 gap-6 relative",children:[t.jsx(S,{onFilter:u}),t.jsx("aside",{className:"flex h-full absolute mx-4 border-l-2 border-primary dark:border-primary-200 "}),t.jsxs("div",{className:"px-4 lg:px-12 flex flex-col space-y-12 pb-8",children:[!(Object.keys(o).length>0||s)&&p.map(e=>t.jsx(m,{data:e},e.id)),Object.keys(o).length>0&&o.map(e=>t.jsx(m,{data:e},e.id)),s&&t.jsx("h3",{children:"Sem resultados"})]})]})]})]})}export{_ as default};
